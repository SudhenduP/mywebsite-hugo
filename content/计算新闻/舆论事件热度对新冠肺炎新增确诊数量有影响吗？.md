+++
highlight = true
math = false
date = "2020-02-13"
title = "èˆ†è®ºçƒ­ç‚¹é¢„æµ‹ç–«æƒ…æ„ŸæŸ“ï¼Ÿ"
tags = ["news"]

summary = """ 
"""
[header]
image = "headers/neza.svg"
caption = "Image credit: [**Academic**](https://github.com/gcushen/hugo-academic/)"
+++Â 

# é—®é¢˜

RQ: èˆ†è®ºäº‹ä»¶çƒ­åº¦å¯¹æ–°å† è‚ºç‚æ–°å¢ç¡®è¯Šæ•°é‡æœ‰å½±å“å—ï¼Ÿ

# æ•°æ®

æˆ‘ä»¬ä½¿ç”¨çŸ¥å¾®äº‹è§çš„æ•°æ®æ¥ç†è§£è¿™ä¸€ç ”ç©¶é—®é¢˜ã€‚ çŸ¥å¾®äº‹è§,ä¸“æ³¨äºçƒ­ç‚¹äº‹ä»¶ã€ä¼ä¸šå±æœºäº‹ä»¶ã€è¥é”€äº‹ä»¶çš„ç ”ç©¶ä¸åˆ†æã€‚å½“äº‹ä»¶ç¬¦åˆä¸‹åˆ—æ ‡å‡†ä¹‹ä¸€æ—¶ï¼Œå°†è¢«æ”¶å½•è‡³çŸ¥å¾®äº‹è§äº‹ä»¶åº“ä¸­ï¼š1.åœ¨çŸ­æ—¶é—´å†…è¾¾åˆ°é«˜ä¼ æ’­é‡çš„äº‹ä»¶ï¼›2.åœ¨é•¿æœŸå†…éƒ½ä¿æŒä¸€å®šä¼ æ’­é‡çš„äº‹ä»¶ï¼›3.åœ¨ç½‘ç»œç¤¾äº¤åª’ä½“ä¸­å¼•èµ·çƒ­è®®çš„äº‹ä»¶ã€‚

 >  1.ä»€ä¹ˆæ˜¯äº‹ä»¶å½±å“åŠ›æŒ‡æ•°ï¼Ÿäº‹ä»¶å½±å“åŠ›æŒ‡æ•°ï¼ˆEvent Influence Indexï¼ŒEIIï¼‰æ˜¯åŸºäºå…¨ç½‘çš„ç¤¾äº¤åª’ä½“å’Œç½‘ç»œåª’ä½“æ•°æ®ï¼Œç”¨æ¥åˆ»ç”»å•ä¸€äº‹ä»¶åœ¨äº’è”ç½‘ä¸Šçš„ä¼ æ’­æ•ˆæœçš„æƒå¨æŒ‡æ ‡ã€‚æŒ‡æ•°çš„è®¡ç®—æ•°æ®æ¥è‡ªå…¨ç½‘çš„ç¤¾äº¤åª’ä½“å’Œç½‘ç»œåª’ä½“æ•°æ®ã€‚äº‹ä»¶å½±å“åŠ›æŒ‡æ•°æ˜¯æ ¹æ®äº‹ä»¶åœ¨ç¤¾äº¤åª’ä½“ï¼ˆä»¥å¾®åšã€å¾®ä¿¡ä¸ºä¸»ï¼‰å’Œç½‘ç»œåª’ä½“ä¸Šçš„ä¼ æ’­æ•ˆæœè¿›è¡ŒåŠ å’Œï¼ŒåŠ å’Œåçš„äº‹ä»¶å½±å“åŠ›å†é€šè¿‡å½’ä¸€åŒ–è¿ç®—å¾—åˆ°èŒƒå›´åœ¨0 ~ 100ä¹‹é—´çš„äº‹ä»¶å½±å“åŠ›æŒ‡æ•°ã€‚


![çŸ¥å¾®äº‹è§](https://upload-images.jianshu.io/upload_images/38934-4b48b64f5ad6ed3a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

å¯ä»¥çœ‹åˆ°æ–°å† è‚ºç‚ä¾ç„¶å æ®èˆ†è®ºçƒ­ç‚¹ã€‚

æˆ‘ä»¬ä½¿ç”¨çš„æ•°æ®æ¥è‡ªé’ˆå¯¹æ–°å† è‚ºç‚äº‹ä»¶è„‰ç»œçš„æ¢³ç†ï¼š[http://xgml.zhiweidata.net/?from=floating#/](http://xgml.zhiweidata.net/?from=floating#/)

![æ•°æ®æ¥æº](https://upload-images.jianshu.io/upload_images/38934-6add4814a58342ca.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

# æ•°æ®è¯»å–å’Œå¯è§†åŒ–

```
import pylab as plt
import pandas as pd
import seaborn as sns
import json

j = json.load(open('zhiwei_line.json'))
df = pd.DataFrame(j)
df.tail()
```

![è¯»å–æ•°æ®](https://upload-images.jianshu.io/upload_images/38934-a7cb51452028ae96.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

æŸ¥çœ‹ä¸€ä¸‹æ•°æ®åŸºæœ¬ç±»å‹ï¼š

```
df.info()
```

<class 'pandas.core.frame.DataFrame'>
RangeIndex: 52 entries, 0 to 51
Data columns (total 5 columns):
 #   Column   Non-Null Count  Dtype
---  ------   --------------  -----
 0   time     52 non-null     object
 1   voice    52 non-null     object
 2   heat     52 non-null     object
 3   case     52 non-null     object
 4   allCase  52 non-null     object
dtypes: object(5)
memory usage: 2.2+ KB

ç»“æœå‘ç°éƒ½æ˜¯objectï¼Œæœªèƒ½è¢«æ­£ç¡®è¯†åˆ«ã€‚

```
# å°†objectè½¬åŒ–ä¸ºæ•°å€¼å‹çš„ç±»å‹
df['heat'] = [float(i) for i in df['heat']]
df['case'] = [int(i) for i in df['case']]
```
![å¯è§†åŒ–](https://upload-images.jianshu.io/upload_images/38934-1856cde3b875de49.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

### åŒyåæ ‡è½´å¯è§†åŒ–


```
# åŒyåæ ‡è½´å¯è§†åŒ–
fig = plt.figure(figsize=(12,6),dpi = 200)
plt.style.use('fivethirtyeight')

ax1=fig.add_subplot(111)
ax1.plot(df['time'],  df['heat'], 'r-s')
ax1.set_ylabel('èˆ†è®ºçƒ­åº¦', fontsize = 16)
ax1.tick_params(axis='x', rotation=60)
ax1.legend(('èˆ†è®ºçƒ­åº¦',),loc='upper left')

ax2=ax1.twinx()
ax2.plot(df['time'], df['case'], 'g-o')
ax2.set_ylabel('æ–°å¢ç¡®è¯Š', fontsize = 16)
ax2.legend(('æ–°å¢ç¡®è¯Š',),loc='upper right')

plt.show()
```
# æ ¼å…°æ°æ£€éªŒ

æ¥ä¸‹æ¥è¿›è¡Œæ ¼å…°æ°å› æœæ£€éªŒã€‚

The Null hypothesis for [grangercausalitytests](http://www.statsmodels.org/dev/generated/statsmodels.tsa.stattools.grangercausalitytests.html).

**H0**: the time series in the second column, x2, does NOT Granger cause the time series in the first column, x1.

> Grange causality means that past values of x2 have a statistically significant effect on the current value of x1, taking past values of x1 into account as regressors. We reject the null hypothesis that x2 does not Granger cause x1 if the pvalues are below a desired size of the test.

```
import statsmodels.api as sm
from statsmodels.tsa.stattools import grangercausalitytests
import numpy as np

data = df[21:][['case','heat' ]].pct_change().dropna()
data.plot();
```

![image.png](https://upload-images.jianshu.io/upload_images/38934-d0eda257416ebbe2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

```
gc_res = grangercausalitytests(data,4)
```


Granger Causality
number of lags (no zero) 1
ssr based F test:         F=0.0800  , p=0.7796  , df_denom=26, df_num=1
ssr based chi2 test:   chi2=0.0892  , p=0.7652  , df=1
likelihood ratio test: chi2=0.0891  , p=0.7653  , df=1
parameter F test:         F=0.0800  , p=0.7796  , df_denom=26, df_num=1

Granger Causality
number of lags (no zero) 2
ssr based F test:         F=7.5340  , p=0.0030  , df_denom=23, df_num=2
ssr based chi2 test:   chi2=18.3436 , p=0.0001  , df=2
likelihood ratio test: chi2=14.1086 , p=0.0009  , df=2
parameter F test:         F=7.5340  , p=0.0030  , df_denom=23, df_num=2

Granger Causality
number of lags (no zero) 3
ssr based F test:         F=13.4029 , p=0.0001  , df_denom=20, df_num=3
ssr based chi2 test:   chi2=54.2818 , p=0.0000  , df=3
likelihood ratio test: chi2=29.7563 , p=0.0000  , df=3
parameter F test:         F=13.4029 , p=0.0001  , df_denom=20, df_num=3

Granger Causality
number of lags (no zero) 4
ssr based F test:         F=8.8419  , p=0.0005  , df_denom=17, df_num=4
ssr based chi2 test:   chi2=54.0915 , p=0.0000  , df=4
likelihood ratio test: chi2=29.2519 , p=0.0000  , df=4
parameter F test:         F=8.8419  , p=0.0005  , df_denom=17, df_num=4

## ç»“è®º

èˆ†è®ºçƒ­åº¦å¯ä»¥æ˜¾è‘—åœ°å¯¼è‡´æ–°å† è‚ºç‚çš„ç¡®è¯Šæ•°é‡ã€‚

## ç»ƒä¹ 

è¯·ä½¿ç”¨æ ¼å…°æ°æ£€éªŒçœ‹ä¸€ä¸‹åè¿‡æ¥çš„é—®é¢˜ï¼šRQ2: æ–°å† è‚ºç‚ç¡®è¯Šæ•°é‡æ˜¯å¦å¯ä»¥å¯¼è‡´èˆ†è®ºçƒ­åº¦ï¼Ÿ

## æ€è€ƒ ğŸ¤”

Question: è¿™æ˜¯ä¼ªç›¸å…³å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿä¸äº†è§£ä¼ªç›¸å…³ï¼Œçœ‹è¿™å‡ ä¸ªä¾‹å­ğŸŒ° [http://www.tylervigen.com/spurious-correlations](http://www.tylervigen.com/spurious-correlations)


## å»¶ä¼¸

- Bertram Scheufele,Â Alexander Haas,Â Hans-Bernd Brosius ï¼ˆ2011ï¼‰Mirror or Molder? A Study of Media Coverage, Stock Prices, and Trading Volumes in Germany. *Journal of Communication*, Volume 61, Issue 1, February 2011, Pages 48â€“70. [PDF](https://onlinelibrary.wiley.com/doi/full/10.1111/j.1460-2466.2010.01526.x)

> This article investigates the shortâ€term relationship between media coverage, stock prices, and trading volumes of eight listed German companies. A content analysis of news reports about the selected companies and a secondary analysis of the daily changes in closing prices and the trading volumes of these companies were combined in a timeâ€series design. After ARIMAâ€modeling each of them, the results suggest that media coverage rather reflects than shapes the development at stock exchanges from a shortâ€term perspective (2 months). There were almost no hints for a widespread media effect, that is, an impact on so many investors that it will result in a measurable change in stock prices or trading volumes. Finally, theoretical and methodological consequences for exploring widespread media effects are discussed.

![image.png](https://upload-images.jianshu.io/upload_images/38934-9850cf8ca1a77422.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)


![ä¸ºä»€ä¹ˆä¸åŒæ­¥ï¼Ÿå…¬ä¼—ä¸ºäº†å¯ä»¥æå‰é¢„çŸ¥ï¼Ÿæˆ–è€…è¯´ä¸ºä»€ä¹ˆç¡®è¯Šæ•°æ»åï¼Ÿ](https://upload-images.jianshu.io/upload_images/38934-a7823e0149a441ae.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
